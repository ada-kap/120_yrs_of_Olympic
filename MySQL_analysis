--How has the percentage of female athletes changed over time?--
  
  with 
      total as
	      (
     	  select 
          'Year'
	         ,count(distinct id)             AS Total_ath
	      from athlete_events ae
	      group by year
	      ), 
     female as 
	      (
	      select 
        	`Year` 
		      ,count(distinct id)              AS Female_ath
	      from athlete_events ae 
	      where sex = 'F'
	      group by `Year`
	      ) 
       select 
		        t.year				                  AS Year	
	          ,t.Total_ath 			              AS Total_athletes
	          ,COALESCE (f.Female_ath, 0)  	  AS Female_athletes
          	,COALESCE (round((f.female_ath/t.total_ath)*100, 1), 0) AS Percentage_of_female_athletes 
	      from female f 
      	right join total t 
	      on f.year = t.year
--result: Results show a consistent rise in female participation: from just a few percent in the early 20th century to over 45% by 2016.--
--insight: A clear trend toward gender equality in sports.--
